"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[993],{5061:function(e,n,t){t.d(n,{Z:function(){return P}});var r=t(7294),s=t(6439);var o=t(6988);function a(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,s,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(i){l=!0,s=i}finally{try{a||null==t.return||t.return()}finally{if(l)throw s}}return o}}(e,n)||(0,o.Z)(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=t(1163),i=t(1463),c=t(1664),u=t(4577),d=t(5893),f=u.Yd.userInfo.avatar,h=u.Yd.userInfo.name,m=function(e){var n=e.userInfo,t=e.signOutHandle,s=(0,r.useState)(!1),o=s[0],a=s[1];return(0,r.useEffect)((function(){console.log("userInfo",n),n&&void 0!==n.mobile&&(0,u.xw)(n.mobile)?a(!0):a(!1)}),[n]),(0,d.jsx)(d.Fragment,{children:o?(0,d.jsx)(x,{userInfo:n,signOutHandle:t}):(0,d.jsx)(v,{})})},x=function(e){var n,t=e.userInfo,r=e.signOutHandle;return(0,d.jsxs)("ul",{tabIndex:"0",className:"p-2 shadow menu dropdown-content bg-base-100 rounded-box w-52",children:[(0,d.jsx)("li",{children:(0,d.jsx)("div",{className:"hero",children:(0,d.jsxs)("p",{className:"text-blue-600 text-sm font-medium",children:["Hi ",null!==(n=t[h])&&void 0!==n?n:""]})})}),(0,d.jsx)("div",{className:"divider"}),(0,d.jsx)("li",{children:(0,d.jsx)(c.default,{href:"/userinfo",className:"menu-link",children:(0,d.jsx)("button",{className:"text-black btn btn-link",children:"\u6211\u7684\u8d44\u6599"})})}),(0,d.jsx)("div",{className:"divider"}),(0,d.jsx)("li",{children:(0,d.jsx)("button",{className:"menu-link text-black",onClick:r,children:"\u9000\u51fa"})})]})},v=function(){return(0,d.jsxs)("ul",{tabIndex:"0",className:"p-2 shadow menu dropdown-content bg-gray-400 rounded-box w-52",children:[(0,d.jsx)("li",{children:(0,d.jsx)("span",{children:"\u6b22\u8fce\u60a8!"})}),(0,d.jsx)("div",{className:"divider"}),(0,d.jsx)("li",{children:(0,d.jsx)(c.default,{href:"/signin",children:"\u767b\u5f55"})})]})},j=function(){var e=(0,r.useState)({}),n=e[0],t=e[1],s=(0,r.useState)(u.S_),o=s[0],a=s[1],l=(0,r.useState)(0),i=l[0],c=l[1];(0,r.useEffect)((function(){c(i+1)}),[]),(0,r.useEffect)((function(){a(void 0!==n[f]&&n[f].length>10?n[f]:u.S_)}),[n]);return(0,d.jsxs)("div",{className:"dropdown dropdown-end",children:[(0,d.jsx)("div",{tabIndex:"0",children:(0,d.jsx)("div",{className:"avatar",children:(0,d.jsx)("div",{className:"rounded-full w-8 h-8 m-0 bg-white",children:(0,d.jsx)("img",{src:o})})})}),(0,d.jsx)(m,{userInfo:n,signOutHandle:function(){(0,u.Yz)(u.eW.userToken),t({})}}),(0,d.jsx)(u.LO,{api:u.MB.customerInfo,method:"GET",data:{},resolveBk:function(e){console.log("responseUserData",e),t(e)},requestCount:i})]})},p=function(e){var n=e.title,t=(e.customerAvatarUrl,e.searchHandle),s=a(r.useState(""),2),o=(s[0],s[1]),c=(0,l.useRouter)(),u=function(){c.push("/search")};return(0,d.jsxs)("div",{className:"navbar mb-2 shadow-lg bg-neutral text-neutral-content rounded-box",children:[(0,d.jsx)("div",{className:"flex-none sm:flex",children:(0,d.jsx)("button",{className:"btn btn-square btn-ghost",onClick:function(){c.push("/")},children:(0,d.jsx)(i.Bd,{})})}),(0,d.jsx)("div",{className:"flex-1 hidden px-2 mx-2 sm:flex",children:(0,d.jsx)("span",{className:"text-lg font-bold",children:n})}),(0,d.jsx)("div",{className:"flex-1 lg:flex-none",children:(0,d.jsx)("div",{className:"form-control",children:(0,d.jsx)("input",{onKeyUp:function(e){13===e.keyCode&&t(e.target.value)},onFocus:u,type:"text",placeholder:"\u5546\u54c1\u540d\u6216\u7c98\u8d34\u6dd8\u5b9d\u6807\u9898",className:"input input-ghost",onChange:function(e){return o(e.target.value)}})})}),(0,d.jsx)("div",{className:"flex-none",children:(0,d.jsx)("button",{className:"btn btn-square btn-ghost",onClick:u,children:(0,d.jsx)(i.yr,{})})}),(0,d.jsx)("div",{className:"flex-none",children:(0,d.jsx)(j,{})})]})};p.defaultProps={title:"ZW",customerAvatarUrl:"./images/logo_108_108.png",searchHandle:function(e){console.log(e)}};var b=function(){return(0,d.jsxs)("footer",{className:"p-10 footer bg-base-200 text-base-content footer-center",children:[(0,d.jsxs)("div",{className:"grid grid-flow-col gap-4",children:[(0,d.jsx)("a",{className:"link link-hover",children:"About us"}),(0,d.jsx)("a",{className:"link link-hover",children:"Contact"}),(0,d.jsx)("a",{className:"link link-hover",children:"Jobs"}),(0,d.jsx)("a",{className:"link link-hover",children:"Press kit"})]}),(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"grid grid-flow-col gap-4",children:[(0,d.jsx)("a",{children:(0,d.jsx)(i.iB,{})}),(0,d.jsx)("a",{children:(0,d.jsx)(i.QD,{})}),(0,d.jsx)("a",{children:(0,d.jsx)(i.Is,{})})]})}),(0,d.jsx)("div",{children:(0,d.jsx)("p",{children:"Copyright \xa9 2021 - All right reserved by ZWGlass Ltd"})})]})},g=t(2809),N=t(5761),y=t(2818),O=t(6350),w=t(5021);function k(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?k(Object(t),!0).forEach((function(n){(0,g.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var S=w.MB.taobaoPlatformCustomer,E=function(e){var n=e.jumpToUri,t=(0,r.useState)(""),o=t[0],a=t[1],i=(0,r.useState)(0),c=i[0],u=i[1],f=(0,r.useState)(0),h=f[0],m=f[1],x=(0,r.useState)({q:"",pagination:0,page_size:20}),v=x[0],j=x[1],p=(0,l.useRouter)();(0,r.useEffect)((function(){v.pagination&&v.pagination>0&&m(h+1)}),[v]),(0,r.useEffect)((function(){(0,y.AZ)().then((function(e){b(e)})).catch((function(e){console.log(e)}))}),[]);var b=function(e){if(function(e){var n=e.replace(/[^\u0000-\u00ff]/g,"aa").length;return n>40&&n<61}(e)){var n=w.eW.queriedTitle,t=(0,O.xN)(n);if(t&&t===e)return;j(_(_({},v),{},{q:e,pagination:1})),a(e),(0,O.pp)(n,e)}};return(0,d.jsxs)("div",{children:[(0,d.jsx)(s.R_,{title:"Write to clipboard",visible:c,setVisible:u,children:(0,d.jsxs)("div",{className:"grid grid-cols-1 grid-rows-3 gap-2 relative w-full h-auto bg-base-200",children:[(0,d.jsx)("div",{className:"w-full h-auto my-2",children:(0,d.jsx)("div",{className:"w-full h-auto",children:(0,d.jsx)("p",{className:"text-red-600 text-center break-normal",children:"\u731c\u4f60\u60f3\u627e"})})}),(0,d.jsx)("div",{className:"rounded",children:(0,d.jsx)("p",{className:"text-base text-center break-normal",children:o})}),(0,d.jsx)("div",{className:"flex justify-center items-center w-full h-auto",children:(0,d.jsx)("button",{className:"btn btn-sm btn-secondary",onClick:function(){u(0),p.push({pathname:n,query:{q:o}})},children:"\u9886\u53d6\u4f18\u60e0"})})]})}),(0,d.jsx)(N.L,{api:S,method:"POST",data:{method:"platform_goods_get",map_data:v},resolveBk:function(e){var n={};Object.keys(e).indexOf("code")>-1&&1e3===e.code&&Object.keys(e).indexOf("results")>-1&&(n=e.results);var t=Object.keys(n);t.indexOf("results")>-1&&t.indexOf("count")>-1&&n.count>0&&u(c+1)},requestCount:h})]})};E.defaultProps={jumpToUri:"/taobaogoods"};var I=E,P=function(e){var n=e.title,t=e.searchHandle,o=e.children,a=0;function l(e){var n=Date.now();n-a<=300&&e.preventDefault(),a=n}return(0,r.useEffect)((function(){return document&&(document.documentElement.addEventListener("touchstart",C,!1),document.documentElement.addEventListener("touchend",l,!1)),function(){document&&(document.documentElement.removeEventListener("touchstart",C,!1),document.documentElement.removeEventListener("touchend",l,!1))}}),[]),(0,d.jsx)("div",{className:"flex justify-center w-screen h-auto p-0 m-0",children:(0,d.jsxs)("div",{className:"w-full h-auto lg:max-w-screen-md p-0 m-0",children:[(0,d.jsx)(s.Ov,{children:(0,d.jsx)(p,{title:n,searchHandle:t})}),(0,d.jsx)("div",{className:"mt-20 min-h-screen w-full m-0 p-2",children:o}),(0,d.jsx)(b,{}),(0,d.jsx)(I,{})]})})};P.defaultProps={title:"TaobaoGoods",searchHandle:function(e){console.log(e)},children:null};var C=function(e){e.touches.length>1&&e.preventDefault()}},1010:function(e,n,t){t.d(n,{Ah:function(){return r},ns:function(){return a}});var r=function(e,n){var t=n.count,r=n.results,s=e.length+r.length;return 20===t||!t||!r||s<t},s=function(e){var n=e.prices||[];return"string"===typeof n&&(n=JSON.parse(n)),n},o=function(e){var n=e.coupons||[];return"string"===typeof n&&(n=JSON.parse(n)),console.log("couponsList",n),n},a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9;if(-1===Object.keys(e).indexOf("goods_json_info"))return null;var t=JSON.parse(e.goods_json_info),r=e.commission_rate?e.commission_rate:0;r=(parseFloat(r)*n).toFixed(4);var a={id:e.id,name:e.goods_title,describe:t.item_description,buy_url:"https:"+t.coupon_share_url,goods_url:"https:"+t.url,url:t.pict_url,prices:s(e),volume:t.volume?t.volume:0,coupons:o(e),rebate_rate:r,shop_title:t.shop_title,user_type:t.user_type},l={goodsInfo:a,colorStock:[]};return l}}}]);