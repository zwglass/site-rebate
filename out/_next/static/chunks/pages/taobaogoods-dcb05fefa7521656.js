(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[375],{8380:function(e,t,n){"use strict";n.r(t),n.d(t,{TaobaoGoodsPage:function(){return b},default:function(){return g}});var r=n(7294),o=n(2809),a=n(5761),s=n(5061),i=n(1163),c=n(1010),u=n(5893);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,r.lazy)((function(){return Promise.all([n.e(157),n.e(775)]).then(n.bind(n,6775))})),p=function(){var e=(0,r.useState)(0),t=(e[0],e[1]),n=(0,r.useState)([]),o=n[0],f=n[1],p=(0,i.useRouter)();(0,r.useEffect)((function(){var e=p.query.q;e&&e.length>0&&x(l(l({},y),{},{q:e,pagination:1}))}),[p.query]);var b=(0,r.useState)(0),g=b[0],v=b[1],h=(0,r.useState)("taobaoplatform/v1/userrequests"),O=h[0],j=(h[1],(0,r.useState)({q:"",pagination:0,page_size:20})),y=j[0],x=j[1],_=(0,r.useState)(!0),m=_[0],w=_[1];(0,r.useEffect)((function(){y.pagination&&y.pagination>0&&v(g+1)}),[y]);var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=1,r=""+e;t?f([]):(n=y.pagination+1,r=y.q);var o={q:r,pagination:n,page_size:20};x(o)};return(0,u.jsxs)(s.Z,{title:"TaobaoGoods",searchHandle:k,children:[o.map((function(e,t){return(0,u.jsx)("div",{className:"flex justify-center h-auto w-full",children:(0,u.jsx)(r.Suspense,{fallback:(0,u.jsx)("div",{children:"Loading..."}),children:(0,u.jsx)(d,{goodsInfo:e.goodsInfo,colorStock:e.colorStock})})},t)})),(0,u.jsx)("div",{className:"flex justify-center p-4 h-auto w-full",children:m?(0,u.jsx)("button",{className:"btn glass btn-wide btn-sm bg-gray-400",onClick:function(){k(y.q,!1)},children:"\u8bfb\u53d6\u66f4\u591a"}):(0,u.jsx)("div",{className:"text-gray-300",children:"\u6ca1\u6709\u66f4\u591a\u4e86"})}),(0,u.jsx)(a.L,{api:O,method:"POST",data:{method:"platform_goods_get",map_data:y},resolveBk:function(e){var n={};Object.keys(e).indexOf("code")>-1&&1e3===e.code&&Object.keys(e).indexOf("results")>-1&&(n=e.results);var r=Object.keys(n);if(r.indexOf("results")>-1&&r.indexOf("count")>-1){w((0,c.Ah)(o,n));var a=n.results;t(parseInt(n.count));for(var s=[],i=0;i<a.length;i++){var u=(0,c.ns)(a[i]);u&&s.push(u)}var l=o.concat(s);f(l)}},requestCount:g})]})},b=function(){return(0,u.jsx)(p,{})},g=b},5224:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/taobaogoods",function(){return n(8380)}])}},function(e){e.O(0,[383,577,329,993,774,888,179],(function(){return t=5224,e(e.s=t);var t}));var t=e.O();_N_E=t}]);